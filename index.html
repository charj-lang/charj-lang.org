<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Charj - 语言的语言 &amp;&amp; 下一代企业级编程语言</title><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/e7bef33c767375b82b97.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e7bef33c767375b82b97.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-1d22c332bb22229b8f45.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.483e8dd6d267baea9145.js" as="script"/><link rel="preload" href="/_next/static/chunks/682c571a523b1f552da445b2e05c927df41dc84e.f4626cef716ce67a0fe6.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-da815f133452e16a354c.js" as="script"/><link rel="preload" href="/_next/static/chunks/d09f71c2771447e62661a7b2e7969c57ce47c1dd.ee3651d44d512fcb79cb.js" as="script"/><link rel="preload" href="/_next/static/chunks/9f1dc3fa6ebb549af7417cdbef76437df99013dc.d1e9db47e6aec2c0615c.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/index-b1fe14a68b9ecf8d1d8b.js" as="script"/></head><body><div id="__next"><div class="h-screen"><div class="bg-white"><div class="bg-gray-50 border-b border-gray-200"><div class="relative py-6"><nav class="mx-auto flex items-center justify-between px-4 sm:px-6 md:px-8 max-w-screen-lg lg:p-0"><a class="flex items-center" href="/"><img class="h-10 w-auto sm:h-12 my-2" src="https://raw.githubusercontent.com/charj-lang/arts/master/logo.svg" alt=""/><div class="ml-5 flex flex-col justify-center"><div class="font-bold text-gray-900 leading-tight text-2xl sm:text-3xl tracking-tight">Charj</div></div></a><div class="-mr-2 flex items-center lg:hidden"><button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"><svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24"><title>Menu | Charj</title><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"></path></svg></button></div><div class="hidden lg:flex md:ml-10 items-end"><a class="font-medium text-gray-500 hover:text-gray-900 transition duration-150 ease-in-out" href="/blog">Blog</a><a class="ml-10 font-medium text-gray-500 hover:text-gray-900 transition duration-150 ease-in-out" href="/docs">Docs</a><a href="https://github.com/charj-lang/charj" class="ml-10 text-gray-500 hover:text-gray-900 transition duration-150 ease-in-out" style="line-height:0"><span class="sr-only">GitHub</span><svg class="h-6 w-6 inline" fill="currentColor" viewBox="0 0 24 24"><title>Github | Deno</title><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a></div></nav></div><div class="max-w-screen-sm mx-auto px-4 sm:px-6 md:px-8 pt-12 pb-20 flex flex-col items-center"><h1 class="font-extrabold text-5xl leading-10 tracking-tight text-gray-900">Charj</h1><h2 class="mt-4 sm:mt-5 font-light text-2xl text-center leading-tight text-gray-900">Charj Lang 是一个使用<strong class="font-semibold">Rust</strong>编写的<strong class="font-semibold">描述式、中间</strong>编程语言</h2></div><div class="max-w-screen-sm mx-auto px-4 sm:px-6 md:px-8 mt-20"><div class="markdown py-8 px-4 "><p><img src="https://github.com/charj-lang/charj-poc/workflows/Charj%20Build/badge.svg" alt="Charj Build"></p>
<blockquote>
<p>A easy maintain(read/write) language for transform <strong>from</strong>/<strong>to</strong> other languages.</p>
</blockquote>
<p>Design for:</p>
<ul>
<li>legacy system migration.</li>
<li>multiple-targets compiled languages. (by LLVM)</li>
<li>quick pseudocode.</li>
<li>simple DSL design. (TBD)<ul>
<li>domain model design for languages.</li>
<li>visualize architecture.</li>
</ul>
</li>
</ul>
<p>流程图：</p>
<p><img src="https://github.com/charj-lang/arts/blob/master/charj-process.svg?raw=true" alt="流程图"></p>
<p>相关项目：</p>
<ol>
<li>IDEA 插件: <a href="https://github.com/charj-lang/intellij-charj">Intellij Charj</a></li>
<li>Charj 项目：<a href="https://github.com/charj-lang/charj">Charj</a></li>
<li>Scie 语言识别引擎：<a href="https://github.com/charj-lang/scie">Scie</a></li>
<li>Movable DSL: <a href="https://github.com/charj-lang/movable">movable</a></li>
<li>Typography parser: <a href="https://github.com/charj-lang/movable/tree/master/typography">Typography</a></li>
</ol>
<h2 id="流程（设计）">流程（设计）</h2>
<h3 id="1-解析（stage-10）">1. 解析（Stage 1.0）</h3>
<p>Visual Studio Code 使用 Textmate 的语法来解析不同的语言。如下的语言</p>
<pre><code class="language-c"><pre class="prism-code language-c flex overflow-y-auto" style="color:#393A34;background-color:#f6f8fa"><code><div class="token-line text-xs" style="color:#393A34"><span class="token macro property" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\&quot;Hello</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> World</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">\&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></code></pre>
<p>将会被解析为：</p>
<pre><code class="language-bash"><pre class="prism-code language-bash flex overflow-y-auto" style="color:#393A34;background-color:#f6f8fa"><code><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">#) with scopes C, meta.preprocessor.include.c, , punctuation.definition.directive.c</span><span class="token plain"></span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">include</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.preprocessor.include.c,</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.preprocessor.include.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.preprocessor.include.c, string.quoted.other.lt-gt.include.c, punctuation.definition.string.begin.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">17</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stdio.h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.preprocessor.include.c, string.quoted.other.lt-gt.include.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">17</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.preprocessor.include.c, string.quoted.other.lt-gt.include.c, punctuation.definition.string.end.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, storage.type.built-in.primitive.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.function.c, meta.function.definition.parameters.c, entity.name.function.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token variable punctuation" style="color:#393A34">((</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa"> with scopes C</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.function.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.function.definition.parameters.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> punctuation.section.parameters.begin.bracket.round.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token variable" style="color:#36acaa"></span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa"> token from </span><span class="token variable number" style="color:#36acaa">9</span><span class="token variable" style="color:#36acaa"> to </span><span class="token variable number" style="color:#36acaa">10</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable punctuation" style="color:#393A34">))</span><span class="token plain"> with scopes C, meta.function.c, meta.function.definition.parameters.c, punctuation.section.parameters.end.bracket.round.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">11</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.block.c, punctuation.section.block.begin.bracket.curly.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">printf</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.block.c, meta.function-call.c, entity.name.function.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token variable punctuation" style="color:#393A34">((</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa"> with scopes C</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.block.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.function</span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa">call.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> punctuation.section.arguments.begin.bracket.round.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token variable" style="color:#36acaa"></span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa"> token from </span><span class="token variable number" style="color:#36acaa">7</span><span class="token variable" style="color:#36acaa"> to </span><span class="token variable number" style="color:#36acaa">8</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">&quot;</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa"> with scopes C</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.block.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.function</span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa">call.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> string.quoted.double.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> punctuation.definition.string.begin.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token variable" style="color:#36acaa"></span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa"> token from </span><span class="token variable number" style="color:#36acaa">8</span><span class="token variable" style="color:#36acaa"> to </span><span class="token variable number" style="color:#36acaa">21</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">Hello</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> World</span><span class="token variable operator" style="color:#393A34">!</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa"> with scopes C</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.block.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.function</span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa">call.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> string.quoted.double.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token variable" style="color:#36acaa"></span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa"> token from </span><span class="token variable number" style="color:#36acaa">21</span><span class="token variable" style="color:#36acaa"> to </span><span class="token variable number" style="color:#36acaa">22</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">&quot;</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa"> with scopes C</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.block.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> meta.function</span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa">call.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> string.quoted.double.c</span><span class="token variable punctuation" style="color:#393A34">,</span><span class="token variable" style="color:#36acaa"> punctuation.definition.string.end.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token variable" style="color:#36acaa"></span><span class="token variable operator" style="color:#393A34">-</span><span class="token variable" style="color:#36acaa"> token from </span><span class="token variable number" style="color:#36acaa">22</span><span class="token variable" style="color:#36acaa"> to </span><span class="token variable number" style="color:#36acaa">23</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable punctuation" style="color:#393A34">))</span><span class="token plain"> with scopes C, meta.block.c, meta.function-call.c, punctuation.section.arguments.end.bracket.round.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.block.c, punctuation.terminator.statement.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">return</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.block.c, keyword.control.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.block.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.block.c, constant.numeric.decimal.c</span></div><div class="token-line text-xs" style="color:#393A34"><span class="token plain">- token from </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> to </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with scopes C, meta.block.c, punctuation.terminator.statement.c</span></div></code></pre></code></pre>
<p>从这一步，我们可以拿到一个 Tokenizer 后的结果，如我们 include 的情况等等。</p>
<h4 id="stage-20-使用-typography">Stage 2.0 使用 Typography</h4>
<h3 id="2-dsl-转换">2. DSL 转换</h3>
<p>随后，我们要将上述的 Token 进行转换，转换到特定的 Movable DSL。</p>
<p>Movable DSL 将映射到 Poet DSL 上。</p>
<h3 id="3-生成-charj-代码">3. 生成 Charj 代码</h3>
<p>即，代码中的：<a href="https://github.com/charj-lang/charj-poet">https://github.com/charj-lang/charj-poet</a></p>
<h3 id="4-charj-编辑与代码优化">4. Charj 编辑与代码优化</h3>
<p><a href="https://github.com/charj-lang/charj">https://github.com/charj-lang/charj</a></p>
<h3 id="5-再次转换">5. 再次转换</h3>
<p>理想情况下，通过我们的 Translator DSL，就可以再度将代码转换为新的语言。</p>
</div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"intro":"\n![Charj Build](https://github.com/charj-lang/charj-poc/workflows/Charj%20Build/badge.svg)\n\n\u003e A easy maintain(read/write) language for transform **from**/**to** other languages.\n\nDesign for:\n\n - legacy system migration.\n - multiple-targets compiled languages. (by LLVM)\n - quick pseudocode.\n - simple DSL design. (TBD)\n     - domain model design for languages.\n     - visualize architecture.\n\n流程图：\n\n![流程图](https://github.com/charj-lang/arts/blob/master/charj-process.svg?raw=true)\n\n相关项目：\n\n1. IDEA 插件: [Intellij Charj](https://github.com/charj-lang/intellij-charj)\n2. Charj 项目：[Charj](https://github.com/charj-lang/charj)\n3. Scie 语言识别引擎：[Scie](https://github.com/charj-lang/scie)\n4. Movable DSL: [movable](https://github.com/charj-lang/movable)\n5. Typography parser: [Typography](https://github.com/charj-lang/movable/tree/master/typography)\n\n## 流程（设计）\n\n### 1. 解析（Stage 1.0）\n\nVisual Studio Code 使用 Textmate 的语法来解析不同的语言。如下的语言\n\n```c\n#include \u003cstdio.h\u003e\nint main() {\n  printf(\\\"Hello, World!\\\");\n  return 0;\n}\n```\n\n将会被解析为：\n\n```bash\n- token from 0 to 1 () with scopes C\n- token from 0 to 1 (#) with scopes C, meta.preprocessor.include.c, , punctuation.definition.directive.c\n- token from 1 to 8 (include) with scopes C, meta.preprocessor.include.c,\n- token from 8 to 9 ( ) with scopes C, meta.preprocessor.include.c\n- token from 9 to 10 (\u003c) with scopes C, meta.preprocessor.include.c, string.quoted.other.lt-gt.include.c, punctuation.definition.string.begin.c\n- token from 10 to 17 (stdio.h) with scopes C, meta.preprocessor.include.c, string.quoted.other.lt-gt.include.c\n- token from 17 to 18 (\u003e) with scopes C, meta.preprocessor.include.c, string.quoted.other.lt-gt.include.c, punctuation.definition.string.end.c\n- token from 0 to 3 (int) with scopes C, storage.type.built-in.primitive.c\n- token from 3 to 4 ( ) with scopes C\n- token from 4 to 8 (main) with scopes C, meta.function.c, meta.function.definition.parameters.c, entity.name.function.c\n- token from 8 to 9 (() with scopes C, meta.function.c, meta.function.definition.parameters.c, punctuation.section.parameters.begin.bracket.round.c\n- token from 9 to 10 ()) with scopes C, meta.function.c, meta.function.definition.parameters.c, punctuation.section.parameters.end.bracket.round.c\n- token from 10 to 11 ( ) with scopes C\n- token from 11 to 12 ({) with scopes C, meta.block.c, punctuation.section.block.begin.bracket.curly.c\n- token from 0 to 6 (printf) with scopes C, meta.block.c, meta.function-call.c, entity.name.function.c\n- token from 6 to 7 (() with scopes C, meta.block.c, meta.function-call.c, punctuation.section.arguments.begin.bracket.round.c\n- token from 7 to 8 (\") with scopes C, meta.block.c, meta.function-call.c, string.quoted.double.c, punctuation.definition.string.begin.c\n- token from 8 to 21 (Hello, World!) with scopes C, meta.block.c, meta.function-call.c, string.quoted.double.c\n- token from 21 to 22 (\") with scopes C, meta.block.c, meta.function-call.c, string.quoted.double.c, punctuation.definition.string.end.c\n- token from 22 to 23 ()) with scopes C, meta.block.c, meta.function-call.c, punctuation.section.arguments.end.bracket.round.c\n- token from 23 to 24 (;) with scopes C, meta.block.c, punctuation.terminator.statement.c\n- token from 0 to 6 (return) with scopes C, meta.block.c, keyword.control.c\n- token from 6 to 7 ( ) with scopes C, meta.block.c\n- token from 7 to 8 (0) with scopes C, meta.block.c, constant.numeric.decimal.c\n- token from 8 to 9 (;) with scopes C, meta.block.c, punctuation.terminator.statement.c\n```\n\n从这一步，我们可以拿到一个 Tokenizer 后的结果，如我们 include 的情况等等。\n\n#### Stage 2.0 使用 Typography\n\n### 2. DSL 转换\n\n随后，我们要将上述的 Token 进行转换，转换到特定的 Movable DSL。\n\nMovable DSL 将映射到 Poet DSL 上。\n\n### 3. 生成 Charj 代码\n\n即，代码中的：https://github.com/charj-lang/charj-poet\n\n### 4. Charj 编辑与代码优化\n\n[https://github.com/charj-lang/charj](https://github.com/charj-lang/charj)\n\n### 5. 再次转换\n\n理想情况下，通过我们的 Translator DSL，就可以再度将代码转换为新的语言。\n\n"},"__N_SSG":true},"page":"/","query":{},"buildId":"__-nV_LvLXV7DV5g5QO7C","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-4beebf4ac9054f0bf4e6.js"></script><script src="/_next/static/chunks/main-1d22c332bb22229b8f45.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.483e8dd6d267baea9145.js" async=""></script><script src="/_next/static/chunks/682c571a523b1f552da445b2e05c927df41dc84e.f4626cef716ce67a0fe6.js" async=""></script><script src="/_next/static/chunks/pages/_app-da815f133452e16a354c.js" async=""></script><script src="/_next/static/chunks/d09f71c2771447e62661a7b2e7969c57ce47c1dd.ee3651d44d512fcb79cb.js" async=""></script><script src="/_next/static/chunks/9f1dc3fa6ebb549af7417cdbef76437df99013dc.d1e9db47e6aec2c0615c.js" async=""></script><script src="/_next/static/chunks/pages/index-b1fe14a68b9ecf8d1d8b.js" async=""></script><script src="/_next/static/__-nV_LvLXV7DV5g5QO7C/_buildManifest.js" async=""></script><script src="/_next/static/__-nV_LvLXV7DV5g5QO7C/_ssgManifest.js" async=""></script></body></html>